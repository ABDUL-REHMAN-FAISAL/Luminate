{% extends "auth_base.html" %}

{% block title %}Login | Luminate{% endblock %}

{% block auth_content %}
<div class="brand-logo animate-fade-in">Luminate</div>
<h1 class="login-title animate-fade-in">Welcome Back!</h1>
<p class="fun-intro animate-fade-in">Let's get you back to finding your dream job or perfect candidate.</p>

<div class="role-toggle-container animate-fade-in">
    <span class="role-label">Job Seeker</span>
    <label class="switch">
        <input type="checkbox" id="roleToggle" name="role">
        <span class="slider"></span>
    </label>
    <span class="role-label">Employer</span>
</div>

<form method="post" action="{{ url_for('login') }}" class="animate-fade-in">
    <input type="hidden" name="role" id="roleField" value="jobseeker">
    
    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" name="email" required>
    </div>
    
    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password" name="password" required>
    </div>
    
    <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="rememberMe">
        <label class="form-check-label" for="rememberMe">Remember me</label>
    </div>
    
    <button type="submit" class="btn btn-primary w-100">Login</button>
    
    <div class="text-center mt-3">
        <a href="#" class="text-decoration-none text-purple">Forgot password?</a>
    </div>
</form>

<div class="mt-4 text-center animate-fade-in">
    <p>Don't have an account? <a href="{{ url_for('register') }}" class="text-decoration-none text-purple">Sign up</a></p>
</div>
{% endblock %}

{% block auth_js %}
<script>
    // Handle role toggle
    document.addEventListener('DOMContentLoaded', function() {
        const roleToggle = document.getElementById('roleToggle');
        const roleField = document.getElementById('roleField');
        
        roleToggle.addEventListener('change', function() {
            if (this.checked) {
                roleField.value = 'employer';
            } else {
                roleField.value = 'jobseeker';
            }
        });
    });
</script>
{% endblock %}